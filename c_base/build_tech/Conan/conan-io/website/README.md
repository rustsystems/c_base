# Conan.io Website

## Getting Started

These instructions will get you a copy of the project up and running on your local staging and production machines,
and you will find some additional information about the setup of the website.

## Installation

```
git clone git@github.com:conan-io/website.git
npm install
npx gulp init
```

The built site should be located inside the `build/` folder at the root of the repository.

To preview the website, run `npx server build/`, this will allow the site remote resources to load.

## Structure

Base folder `src/`

- img/ (images)
- js/ (scripts)
- scss/
- html files

## Development Instructions

- All the source files are located in `src/` folder, any update to the website should be done in this folder.
- To install the dependencies do: `$ npm install`
- Run `npx gulp init` - this will create all the necessary static files.
- To view the website, just open `./build/index.html` with `npx server build/` and follow the link to your browser.
- Opening the `./build/index.html` file with a Live Server `npx server build/` can allow for automatic reloading.
  Please note that the watch task will not run on addition new files (or deletion of files).
- Run `npx gulp watchAll` to start a file watcher that will reload all the necessary files if they change
- You can also manually run `npx gulp` to manually test your changes in `HTML`, `SCSS`, or `JS` files in the `src/` folder.
- Any new images should be added to `src/img`. After an image has been added, run `npx gulp imagesTask`
- Do not push any of the files generated by `gulp` or `gulp imagesTask` to the GitHub repo. They are
  generated by a CI's pipeline when the changes are merged to the repository branch.

And regarding the deployment of the site:

- The `develop` branch is the latest work code, new branch should be forked and merged from this point.
- After the push to the `staging` branch the website by CI's pipeline is deployed to staging environment `https://conancenter-stg.jfrog.team/` (requires VPN access).
- After the push to the `master` branch the website by CI's pipeline is deployed to production environment `https://conan.io/`.
