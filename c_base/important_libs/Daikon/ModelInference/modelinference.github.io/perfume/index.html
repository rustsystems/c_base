<!doctype html>
<html>
<head profile="http://www.w3.org/2005/10/profile">
  <meta name="theme-color" content="#c0e0ff">
  <link rel="icon" sizes="192x192" href="./icon.png">
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-26626218-3','auto');ga('send','pageview');</script>

  <title>Perfume: Resource-Aware Model Inference</title>
  <link rel="stylesheet" href="./style.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="./common.css" type="text/css" media="screen" />
</head>

<body>
  <div id="wrapper">
  <div id="content">

    <h1>Perfume</h1>

    <div id="logtomodel">
      <img src="./log_to_model.png" width="940" height="304" alt="" />
    </div>

    <iframe width="1000" height="360" src="https://www.youtube.com/embed/0CLiEXK7LWc"
      frameborder="0" allowfullscreen></iframe>

    <div class="sectionhead">Introduction</div>
    <div class="sectiontext">
      Perfume summarizes a system's logged executions in a resource-aware,
      behavioral model. Resource metrics present in these logs convey vital
      information about most systems, yet previous model inference work ignores
      resource data. By leveraging this information, Perfume generates more
      precise models, which can help developers understand system behavior that
      depends on metrics like execution time, network traffic, or energy
      consumption.
      <br />
      <br />
      The example above depicts a log generated by a tool that diagnoses network
      issues. The tool tests a client's bandwidth, executes a series of queries,
      and then classifies the network path based on those results. A developer
      might wish to know what factors cause the tool to report client paths as
      problematic. While manually examining the log is difficult and unwieldy,
      the Perfume model reveals that the tool reports a network problem when
      broadband clients respond slowly to the second query.
    </div>

    <div class="sectionhead">Log Input</div>
    <div class="sectiontext">
      Perfume accepts two inputs from the user: an execution log and a set of
      regular expressions. The regular expressions are used to parse the log,
      allowing Perfume to support a wide variety of log formats. Logs are
      parsed into individual execution <span class="i">traces</span>,
      <span class="i">events</span> within those traces, and
      <span class="i">resource metrics</span> on the events.
      <br />
      <br />
      The log shown above was parsed with the following regular expressions:
      <div class="subtext">
        <span class="b">Events and timestamps:</span>
        <br />
        <span class="regex">
          (?&lt;ip&gt;) .+:(?&lt;DTIME&gt;.+)\] "GET HTTP/1.1 /(?&lt;TYPE&gt;.+)"</span>
        <div class="smallspace"></div>
        <span class="b">Separating execution traces:</span>
        <br />
        <span class="regex">
          \k&lt;ip&gt;
        </span>
      </div>
    </div>

    <div class="sectionhead">How It Works</div>
    <div class="sectiontext">
      To be useful and understandable, Perfume models should be
      <span class="i">compact</span>, or contain as few states as possible.
      However, a model is useless if it is not also
      <span class="i">precise</span>, meaning paths through the model represent
      actual or likely executions of the original system. Towards these goals,
      Perfume mines temporal, resource-constrained properties that are true
      of all executions in the log. The model is then made as compact as
      possible while obeying all mined properties, ensuring that it represents
      the logged system accurately and concisely.
      <br />
      <br />
      In the example, one of the properties Perfume mines is:
      <div class="subtext">
        <span class="mono">broadband</span> always precedes
        <span class="mono">problem</span> lower-bound 8.7 seconds
      </div>
      <br />
      In other words, whenever <span class="mono">problem</span> occurs in an
      execution trace, <span class="mono">broadband</span> always occurs
      previously in the same trace no less than 8.7 seconds earlier. This
      property is crucial to understanding the tool's behavior because it
      differentiates the <span class="mono">query</span> events after
      <span class="mono">broadband</span> that lead to
      <span class="mono">problem</span> from those that lead to
      <span class="mono">OK</span>.
      <br />
      <br />
      One property of Perfume models is that they are guaranteed to accept all
      execution traces in the input log. But additionally, they are
      predictive&mdash;they can accept traces not present in the input log but
      likely to be possible in the original system.
    </div>

    <div class="sectionhead">Further Information</div>
    <div class="sectiontext">
      Perfume is open source.<br /><br />
      <span class="b">Source code:</span><br />
      For <a href="https://github.com/ModelInference/synoptic/">Perfume</a>,
      and separately, the
      <a href="https://github.com/ModelInference/perfume-frontend">Perfume frontend</a>.
      <br />
      <br />
      Project contributors include
      <a href="http://tonyohmann.com">Tony Ohmann</a>,
      <a href="http://www.cs.ubc.ca/~bestchai/">Ivan Beschastnikh</a>,
      <a href="http://people.cs.umass.edu/~brun/">Yuriy Brun</a>,
      Ryan Stanley, Michael Herzberg, Sebastian Fiss,
      <a href="http://ahalbert.nfshost.com/">Armand Halbert</a>, and
      <a href="http://cs.ubc.ca/~mpalyart/">Marc Palyart</a>.
    </div>

    <div class="sectionhead">Publications</div>
    <div class="sectiontext">
      Tony Ohmann, Ryan Stanley, Ivan Beschastnikh, and Yuriy Brun,
      <a href="https://www.cs.ubc.ca/~bestchai/papers/perfume-demo-icse16.pdf">
      Visually Reasoning about System and Resource Behavior</a>, in Proceedings
      of the Demonstrations Track at the International Conference on Software
      Engineering (ICSE16), 2016.

      <br /><br />

      Tony Ohmann, Michael Herzberg, Sebastian Fiss, Armand Halbert, Marc
      Palyart, Ivan Beschastnikh, and Yuriy Brun,
      <a href="http://people.cs.umass.edu/brun/pubs/pubs/Ohmann14ase.pdf">
      Behavioral Resource-Aware Model Inference</a>, in Proceedings of the 26th
      IEEE/ACM International Conference On Automated Software Engineering
      (ASE14), 2014.
      <br />
      <span style="margin-left: 25px;">
        [ <a href="./ase2014/">ASE14 supplementary content</a> ]
      </span>

      <br /><br />

      Tony Ohmann, Kevin Thai, Ivan Beschastnikh, and Yuriy Brun,
      <a href="http://people.cs.umass.edu/brun/pubs/pubs/Ohmann14icse-nier.pdf">
      Mining Precise Performance-Aware Behavioral Models from Existing
      Instrumentation</a>, in Proceedings of the New Ideas and Emerging Results
      Track at the International Conference on Software Engineering (ICSE14),
      2014, pp. 484â€“487.
    </div>

  </div>
  </div>
</body>
</html>
